# üè† Apartment Scraper - Hetzner Production Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=apartment_scraper
DB_USER=scraper_user
DB_PASSWORD=your_secure_database_password_here

# Database connection pool settings
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40
DATABASE_POOL_TIMEOUT=30
DATABASE_ECHO=false

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_POOL_SIZE=10
REDIS_DECODE_RESPONSES=true

# Celery (for background tasks)
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# ============================================================================
# DOMAIN & SSL CONFIGURATION
# ============================================================================
DOMAIN=your-domain.com
EMAIL=your-email@example.com
FRONTEND_URL=https://your-domain.com

# ============================================================================
# API KEYS (REQUIRED FOR FULL FUNCTIONALITY)
# ============================================================================

# Google Maps API (for geocoding and location services)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# Mapbox API (backup geocoding service)
MAPBOX_API_KEY=your_mapbox_api_key_here

# OpenCage API (free geocoding alternative)
OPENCAGE_API_KEY=your_opencage_api_key_here

# OpenAI API (for AI-powered features)
OPENAI_API_KEY=your_openai_api_key_here

# ============================================================================
# SCRAPING CONFIGURATION
# ============================================================================

# User agent for web scraping
USER_AGENT="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36"

# Scraping limits and timeouts
SCRAPING_TIMEOUT=30
SCRAPING_MAX_RETRIES=3
RATE_LIMIT_REQUESTS=10
RATE_LIMIT_PERIOD=60

# Performance settings
MAX_CONCURRENT_JOBS=5
CACHE_TTL_HOURS=6

# ============================================================================
# PROXY CONFIGURATION (OPTIONAL)
# ============================================================================
USE_PROXIES=false
PROXY_SERVICE_URL=
PROXY_API_KEY=
PROXY_USERNAME=
PROXY_PASSWORD=

# ============================================================================
# MONITORING & ALERTING
# ============================================================================

# Grafana configuration
GRAFANA_PASSWORD=your_secure_grafana_password
GRAFANA_DOMAIN=your-domain.com

# Sentry for error monitoring
SENTRY_DSN=your_sentry_dsn_here

# Prometheus settings
PROMETHEUS_ENABLED=true

# Logging
LOG_LEVEL=info

# ============================================================================
# EMAIL CONFIGURATION (FOR NOTIFICATIONS)
# ============================================================================
SMTP_TLS=true
SMTP_PORT=587
SMTP_HOST=smtp.gmail.com
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAILS_FROM_EMAIL=noreply@your-domain.com
EMAILS_FROM_NAME="Apartment Scraper"

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
NODE_ENV=production
SECRET_KEY=your_super_secret_key_here
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_DAYS=30
ALGORITHM=HS256
BCRYPT_ROUNDS=12

# CORS settings
BACKEND_CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ============================================================================
# FEATURE FLAGS
# ============================================================================
ENABLE_SCRAPING=true
ENABLE_AI_RECOMMENDATIONS=true
ENABLE_OFFER_GENERATION=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_WEBSOCKETS=false

# ============================================================================
# AI/ML CONFIGURATION
# ============================================================================
MODEL_PATH=/app/models
RECOMMENDATION_THRESHOLD=0.7
VECTOR_DIMENSION=384
MIN_RECOMMENDATIONS=5
MAX_RECOMMENDATIONS=50

# ============================================================================
# PAGINATION & LIMITS
# ============================================================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
MAX_UPLOAD_SIZE=10485760

# ============================================================================
# PAYMENT PROCESSING (OPTIONAL)
# ============================================================================
STRIPE_SECRET_KEY=your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# ============================================================================
# DEVELOPMENT SETTINGS (SET TO FALSE IN PRODUCTION)
# ============================================================================
DEBUG=false
DATABASE_ECHO=false